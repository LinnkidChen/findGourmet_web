{"remainingRequest":"/Users/tongchen/Downloads/findGourmet_web/findGourmet/front_end/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tongchen/Downloads/findGourmet_web/findGourmet/front_end/src/components/CheckInfo.vue?vue&type=style&index=0&id=6ec316d6&lang=less&scoped=true&","dependencies":[{"path":"/Users/tongchen/Downloads/findGourmet_web/findGourmet/front_end/src/components/CheckInfo.vue","mtime":1608238814000},{"path":"/Users/tongchen/Downloads/findGourmet_web/findGourmet/front_end/node_modules/css-loader/dist/cjs.js","mtime":1670653172634},{"path":"/Users/tongchen/Downloads/findGourmet_web/findGourmet/front_end/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1670653169681},{"path":"/Users/tongchen/Downloads/findGourmet_web/findGourmet/front_end/node_modules/postcss-loader/src/index.js","mtime":1670653170640},{"path":"/Users/tongchen/Downloads/findGourmet_web/findGourmet/front_end/node_modules/less-loader/dist/cjs.js","mtime":1670653171471},{"path":"/Users/tongchen/Downloads/findGourmet_web/findGourmet/front_end/node_modules/cache-loader/dist/cjs.js","mtime":1670653172899},{"path":"/Users/tongchen/Downloads/findGourmet_web/findGourmet/front_end/node_modules/vue-loader/lib/index.js","mtime":1670653169666}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKZGl2IHsKICAgIC5lbC1idXR0b24gewogICAgICAgIGZsb2F0OiByaWdodDsKICAgIH0KICAgIC5lbC10YWJsZSB7CiAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgbWFyZ2luOiAxMHB4IDBweAogICAgfQp9Cg=="},{"version":3,"sources":["CheckInfo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CheckInfo.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div style=\"height: 100%\">\n        <!-- 面包屑 -->\n        <el-breadcrumb separator-class=\"el-icon-arrow-right\" style=\"margin-bottom: 10px\">\n            <el-breadcrumb-item :to=\"{ path: '/welcome' }\">首页</el-breadcrumb-item>\n            <el-breadcrumb-item>查询用户信息</el-breadcrumb-item>\n        </el-breadcrumb>\n        <!-- 信息主体 -->\n        <el-card class=\"box-card\">\n            <el-input v-model=\"inputId\" clearable placeholder=\"查询指定ID用户\" style=\"width: fit-content\"></el-input>\n            <el-input v-model=\"inputName\" clearable placeholder=\"查询模糊名称用户\" style=\"margin-left: 5px; width: fit-content;\"></el-input>\n            <el-select v-model=\"inputLevel\" style=\"margin-left: 5px; width: fit-content\" clearable placeholder=\"查询指定等级用户\">\n                <el-option\n                    v-for=\"item in levelOptions\"\n                    :key=\"item.value\"\n                    :label=\"item.label\"\n                    :value=\"item.value\">\n                    <span style=\"float: left\">{{ item.label }}</span>\n                    <span style=\"float: right; color: #8492a6; font-size: 13px\">{{ item.value }}</span>\n                </el-option>\n            </el-select>\n            <!-- <el-input v-model=\"inputLevel\" clearable placeholder=\"查询指定等级用户\" style=\"margin-left: 5px; width: fit-content\"></el-input> -->\n            \n            <el-button @click=\"showAll()\" type=\"info\" plain >显示所有用户</el-button>\n            <el-button @click=\"check()\" type=\"info\" plain style=\"margin-right: 10px;\">查询所选用户</el-button>\n            <el-table :data=\"tableData\" border\n                :header-cell-style=\"{'text-align':'center'}\" :cell-style=\"{'text-align':'center'}\">\n                <el-table-column prop=\"id\" label=\"用户标识\" width=\"100\">\n                </el-table-column>\n                <el-table-column prop=\"username\" label=\"用户名\" width=\"100\">\n                </el-table-column>\n                <el-table-column prop=\"password\" label=\"密码\" width=\"100\">\n                </el-table-column>\n                <el-table-column prop=\"userType\" label=\"用户类型\" width=\"100\">\n                </el-table-column>\n                <el-table-column prop=\"name\" label=\"用户姓名\" width=\"100\">\n                </el-table-column>\n                <el-table-column prop=\"documentTypeName\" label=\"证件类型\" width=\"100\">\n                </el-table-column>\n                <el-table-column prop=\"documentNumber\" label=\"证件号码\" width=\"180\">\n                </el-table-column>\n                <el-table-column prop=\"phoneNumber\" label=\"手机号码\" width=\"150\">\n                </el-table-column>\n                <el-table-column prop=\"level\" label=\"用户级别\" width=\"100\">\n                </el-table-column>\n                <el-table-column prop=\"introduce\" label=\"用户简介\" width=\"200\">\n                </el-table-column>\n                <el-table-column prop=\"cityName\" label=\"城市\" width=\"100\">\n                </el-table-column>\n                <el-table-column prop=\"createTime\" label=\"注册时间\" width=\"170\">\n                </el-table-column>\n                <el-table-column prop=\"modifyTime\" label=\"修改时间\" width=\"170\">\n                </el-table-column>\n            </el-table>\n            <div class=\"block\" v-show=\"isPageShow\" style=\"margin-top: 10px\">\n                <el-pagination\n                @size-change=\"handleSizeChange\"\n                @current-change=\"handleCurrentChange\"\n                :current-page=\"page\"\n                :page-sizes=\"[2, 5, 10, 15]\"\n                :page-size=\"rows\"\n                layout=\"total, sizes, prev, pager, next, jumper\"\n                :total=\"total\">\n                </el-pagination>\n            </div>\n        </el-card>\n        <p>注：用户级别对应关系是：钻石 0 | 重要 1 | 一般 2</p>\n    </div>\n</template>\n\n<script>\nexport default {\n    data() {\n        return {\n            levelOptions: [\n                {'label': '钻石', 'value': '0'},\n                {'label': '重要', 'value': '1'},\n                {'label': '一般', 'value': '2'}\n            ],\n            inputId: '',\n            inputName: '',\n            inputLevel: '',\n            isPageShow: true,\n            page: 1,    // 数据页数\n            rows: 10,    // 每页行数\n            total: 0,   // 数据总数\n            tableData: [],\n        }\n    },\n    created() {\n        this.getUserList()\n    },\n    methods: {\n        getUserList() {\n            var that = this\n            this.$http.get(`/user/pageFindAll/${this.page}/${this.rows}`, {\n                headers: { \n                    'Authorization': window.sessionStorage.getItem('token')\n                },\n            })\n            .then(function(response) {\n                console.log('checkInfo_getUserIdList', response.data.data);\n                for(var i = 0; i < response.data.data.records.length; i ++) {\n                    if(response.data.data.records[i]['userType'] == false) {\n                        response.data.data.records[i]['userType'] = '系统管理员'\n                    } else {\n                        response.data.data.records[i]['userType'] = '普通用户'\n                    }\n                }\n                that.total = response.data.data.total\n                that.tableData = response.data.data.records\n            })\n            .catch(function(error) {\n                console.error(error)\n                return that.$message({showClose: true, message:'请求错误', type: 'error'})\n            })\n            return false\n        },\n        showAll() {\n            this.isPageShow = true\n            this.inputId = this.inputName = this.inputLevel = ''\n            this.getUserList()\n        },\n        check() {\n            if (this.inputId == '' && this.inputName == '' && this.inputLevel == '') {\n                return this.$message({ showClose: true, message:'至少输入一个查询条件', type: 'warning' })\n            }\n            this.isPageShow = false\n            var data = {\n                            \"id\": this.inputId, \n                            \"username\": this.inputName, \n                            \"level\": this.inputLevel, \n                            \"page\": this.page,\n                            \"rows\": this.rows,\n                        }\n            var config = {\n                method: 'post',\n                url: '/user/getByQuery',\n                headers: { \n                    'Authorization': 'qwqw', \n                    'Content-Type': 'application/json'\n                },\n                data : JSON.stringify(data)\n            };\n            console.log(\"条件查询\", data)\n            var that = this\n\n            this.$http(config)\n            .then(function(response) {\n                console.log('checkInfo', response.data)\n                if (response.data.code == '400') {\n                    that.isPageShow = true\n                    return that.$message({showClose: true, message:response.data.message})\n                }\n                for(var i = 0; i < response.data.data.records.length; i ++) {\n                    if(response.data.data.records[i]['userType'] == false) {\n                        response.data.data.records[i]['userType'] = '系统管理员'\n                    } else {\n                        response.data.data.records[i]['userType'] = '普通用户'\n                    }\n                }\n                that.total = response.data.data.total\n                that.tableData = response.data.data.records\n            })\n            .catch(function(error) {\n                console.error(error)\n                return that.$message({showClose: true, message:'请求错误', type: 'error'})\n            })\n        },\n        // 监听最新的pageSize\n        handleSizeChange(newSize) {\n            console.log(`每页 ${newSize} 条`)\n            this.rows = newSize\n            this.getUserList()\n        },\n        // 监听页码值的改变\n        handleCurrentChange(newPage) {\n            console.log(`当前页: ${newPage}`)\n            this.page = newPage\n            this.getUserList()\n        },\n    }\n}\n</script>\n\n<style lang=\"less\" scoped>\ndiv {\n    .el-button {\n        float: right;\n    }\n    .el-table {\n        width: 100%;\n        margin: 10px 0px\n    }\n}\n</style>"]}]}